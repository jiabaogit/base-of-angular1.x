!function(){"use strict";function e(e,t,r){function n(e){var n={};return function(o){if("undefined"==typeof n[o]){var u=t.defer(),a=e(o);a.onload=a.onreadystatechange=function(e){a.readyState&&"complete"!==a.readyState||r(function(){u.resolve(e)})},a.onerror=function(e){r(function(){u.reject(e)})},n[o]=u.promise}return n[o]}}var o=e[0];this.loadScript=n(function(e){var t=o.createElement("script");return t.src=e,o.body.appendChild(t),t}),this.loadCSS=n(function(e){var t=o.createElement("link");return t.rel="stylesheet",t.type="text/css",t.href=e,o.head.appendChild(t),t})}function t(e){return{isUserLogin:function(){return null!=e.staff_token}}}function r(e,t,r){function n(t){if(s={method:t.way||null,url:t.url||null,data:t.data||null,successfoo:t.success||null,onerrorfoo:t.warn||null,serverfoo:t.error||null,debug:t.debug||!1},s.debug)return void l();if(o().readyData()){var r=o().sendData;e(r).success(function(e,t){u(e,function(e){r.successfoo(e)},r.onerrorfoo)}).error(function(e,t){null!=r.serverfoo&&r.serverfoo(),a(e,t)})}}function o(){function e(){if(null==s.successfoo)return void layer.msg("successfunction有误");switch(s.method){case"get":return t={method:s.method,url:s.url,params:s.data},!0;case"post":case"put":case"delete":return t={method:s.method,url:s.url,data:s.data},!0;default:return layer.msg("传参有误"),!1}}var t={},r={sendData:t,readyData:e};return r}function u(e,t,r){0==e.resultCode?t("undefined"==typeof e.payload?null:e.payload):4005==e.resultCode?alert("您的账号异常，请重新登陆"):null==r?layer.msg(e.resultMessage):(r(),layer.msg(e.resultMessage))}function a(e,r){401==r?t.path("/login"):403==r?alert("您访问的功能受限，请联系管理员"):null==e&&alert("网络繁忙，请稍后再试哦")}function l(){var e=s.url.split("/")[3];if("undefined"==typeof r[e])return void layer.msg("请在数据表中输入假数据");for(var t=0;t<r[e].length;t++)if(r[e][t].url==s.url&&r[e][t].method==s.method)return void s.successfoo(r[e][t].fun(s.data))}var s={};return{port:n}}e.$inject=["$document","$q","$timeout"],t.$inject=["$cookies"],r.$inject=["$http","$location","Servdatas"],angular.module("xxservices",[]).value("version","0.1").service("angularLoad",e).factory("Context",t).factory("HttpUtil",r)}();