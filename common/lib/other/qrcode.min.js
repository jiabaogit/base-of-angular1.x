var QRCode;(function(){function F(X){this.mode=O.MODE_8BIT_BYTE;this.data=X;this.parsedData=[];for(var T=0,V=this.data.length;T<V;T++){var W=[];var U=this.data.charCodeAt(T);if(U>65536){W[0]=240|((U&1835008)>>>18);W[1]=128|((U&258048)>>>12);W[2]=128|((U&4032)>>>6);W[3]=128|(U&63)}else{if(U>2048){W[0]=224|((U&61440)>>>12);W[1]=128|((U&4032)>>>6);W[2]=128|(U&63)}else{if(U>128){W[0]=192|((U&1984)>>>6);W[1]=128|(U&63)}else{W[0]=U}}}this.parsedData.push(W)}this.parsedData=Array.prototype.concat.apply([],this.parsedData);if(this.parsedData.length!=this.data.length){this.parsedData.unshift(191);this.parsedData.unshift(187);this.parsedData.unshift(239)}}F.prototype={getLength:function(T){return this.parsedData.length},write:function(U){for(var T=0,V=this.parsedData.length;T<V;T++){U.put(this.parsedData[T],8)}}};function A(U,T){this.typeNumber=U;this.errorCorrectLevel=T;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function S(W,V){if(W.length==undefined){throw new Error(W.length+"/"+V)}var T=0;while(T<W.length&&W[T]==0){T++}this.num=new Array(W.length-T+V);for(var U=0;U<W.length-T;U++){this.num[U]=W[U+T]}}function L(U,T){this.totalCount=U,this.dataCount=T}function C(){this.buffer=[],this.length=0}A.prototype={"addData":function(U){var T=new F(U);this.dataList.push(T),this.dataCache=null},"isDark":function(U,T){if(U<0||this.moduleCount<=U||T<0||this.moduleCount<=T){throw new Error(U+","+T)}return this.modules[U][T]},"getModuleCount":function(){return this.moduleCount},"make":function(){this.makeImpl(!1,this.getBestMaskPattern())},"makeImpl":function(T,W){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var V=0;V<this.moduleCount;V++){this.modules[V]=new Array(this.moduleCount);for(var U=0;U<this.moduleCount;U++){this.modules[V][U]=null}}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(T,W),this.typeNumber>=7&&this.setupTypeNumber(T),this.dataCache==null&&(this.dataCache=A.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,W)},"setupPositionProbePattern":function(V,U){for(var T=-1;T<=7;T++){if(V+T<=-1||this.moduleCount<=V+T){continue}for(var W=-1;W<=7;W++){if(U+W<=-1||this.moduleCount<=U+W){continue}0<=T&&T<=6&&(W==0||W==6)||0<=W&&W<=6&&(T==0||T==6)||2<=T&&T<=4&&2<=W&&W<=4?this.modules[V+T][U+W]=!0:this.modules[V+T][U+W]=!1}}},"getBestMaskPattern":function(){var V=0,W=0;for(var U=0;U<8;U++){this.makeImpl(!0,U);var T=H.getLostPoint(this);if(U==0||V>T){V=T,W=U}}return W},"createMovieClip":function(Y,V,X){var U=Y.createEmptyMovieClip(V,X),T=1;this.make();for(var W=0;W<this.modules.length;W++){var a=W*T;for(var c=0;c<this.modules[W].length;c++){var Z=c*T,b=this.modules[W][c];b&&(U.beginFill(0,100),U.moveTo(Z,a),U.lineTo(Z+T,a),U.lineTo(Z+T,a+T),U.lineTo(Z,a+T),U.endFill())}}return U},"setupTimingPattern":function(){for(var T=8;T<this.moduleCount-8;T++){if(this.modules[T][6]!=null){continue}this.modules[T][6]=T%2==0}for(var U=8;U<this.moduleCount-8;U++){if(this.modules[6][U]!=null){continue}this.modules[6][U]=U%2==0}},"setupPositionAdjustPattern":function(){var W=H.getPatternPosition(this.typeNumber);for(var T=0;T<W.length;T++){for(var Z=0;Z<W.length;Z++){var X=W[T],U=W[Z];if(this.modules[X][U]!=null){continue}for(var V=-2;V<=2;V++){for(var Y=-2;Y<=2;Y++){V==-2||V==2||Y==-2||Y==2||V==0&&Y==0?this.modules[X+V][U+Y]=!0:this.modules[X+V][U+Y]=!1}}}}},"setupTypeNumber":function(T){var V=H.getBCHTypeNumber(this.typeNumber);for(var U=0;U<18;U++){var W=!T&&(V>>U&1)==1;this.modules[Math.floor(U/3)][U%3+this.moduleCount-8-3]=W}for(var U=0;U<18;U++){var W=!T&&(V>>U&1)==1;this.modules[U%3+this.moduleCount-8-3][Math.floor(U/3)]=W}},"setupTypeInfo":function(T,V){var Y=this.errorCorrectLevel<<3|V,W=H.getBCHTypeInfo(Y);for(var U=0;U<15;U++){var X=!T&&(W>>U&1)==1;U<6?this.modules[U][8]=X:U<8?this.modules[U+1][8]=X:this.modules[this.moduleCount-15+U][8]=X}for(var U=0;U<15;U++){var X=!T&&(W>>U&1)==1;U<8?this.modules[8][this.moduleCount-U-1]=X:U<9?this.modules[8][15-U-1+1]=X:this.modules[8][15-U-1]=X}this.modules[this.moduleCount-8][8]=!T},"mapData":function(V,a){var T=-1,Y=this.moduleCount-1,U=7,X=0;for(var d=this.moduleCount-1;d>0;d-=2){d==6&&d--;for(;;){for(var Z=0;Z<2;Z++){if(this.modules[Y][d-Z]==null){var b=!1;X<V.length&&(b=(V[X]>>>U&1)==1);var W=H.getMask(a,Y,d-Z);W&&(b=!b),this.modules[Y][d-Z]=b,U--,U==-1&&(X++,U=7)}}Y+=T;if(Y<0||this.moduleCount<=Y){Y-=T,T=-T;break}}}}},A.PAD0=236,A.PAD1=17,A.createData=function(V,W,Z){var Y=L.getRSBlocks(V,W),a=new C;for(var X=0;X<Z.length;X++){var U=Z[X];a.put(U.mode,4),a.put(U.getLength(),H.getLengthInBits(U.mode,V)),U.write(a)}var T=0;for(var X=0;X<Y.length;X++){T+=Y[X].dataCount}if(a.getLengthInBits()>T*8){throw new Error("code length overflow. ("+a.getLengthInBits()+">"+T*8+")")}a.getLengthInBits()+4<=T*8&&a.put(0,4);while(a.getLengthInBits()%8!=0){a.putBit(!1)}for(;;){if(a.getLengthInBits()>=T*8){break}a.put(A.PAD0,8);if(a.getLengthInBits()>=T*8){break}a.put(A.PAD1,8)}return A.createBytes(a,Y)},A.createBytes=function(g,X){var a=0,T=0,V=0,d=new Array(X.length),k=new Array(X.length);for(var c=0;c<X.length;c++){var U=X[c].dataCount,Y=X[c].totalCount-U;T=Math.max(T,U),V=Math.max(V,Y),d[c]=new Array(U);for(var h=0;h<d[c].length;h++){d[c][h]=255&g.buffer[h+a]}a+=U;var l=H.getErrorCorrectPolynomial(Y),b=new S(d[c],l.getLength()-1),j=b.mod(l);k[c]=new Array(l.getLength()-1);for(var h=0;h<k[c].length;h++){var Z=h+j.getLength()-k[c].length;k[c][h]=Z>=0?j.get(Z):0}}var e=0;for(var h=0;h<X.length;h++){e+=X[h].totalCount}var f=new Array(e),W=0;for(var h=0;h<T;h++){for(var c=0;c<X.length;c++){h<d[c].length&&(f[W++]=d[c][h])}}for(var h=0;h<V;h++){for(var c=0;c<X.length;c++){h<k[c].length&&(f[W++]=k[c][h])}}return f};var O={"MODE_NUMBER":1,"MODE_ALPHA_NUM":2,"MODE_8BIT_BYTE":4,"MODE_KANJI":8},I={"L":1,"M":0,"Q":3,"H":2},P={"PATTERN000":0,"PATTERN001":1,"PATTERN010":2,"PATTERN011":3,"PATTERN100":4,"PATTERN101":5,"PATTERN110":6,"PATTERN111":7},H={"PATTERN_POSITION_TABLE":[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],"G15":1335,"G18":7973,"G15_MASK":21522,"getBCHTypeInfo":function(U){var T=U<<10;while(H.getBCHDigit(T)-H.getBCHDigit(H.G15)>=0){T^=H.G15<<H.getBCHDigit(T)-H.getBCHDigit(H.G15)}return(U<<10|T)^H.G15_MASK},"getBCHTypeNumber":function(U){var T=U<<12;while(H.getBCHDigit(T)-H.getBCHDigit(H.G18)>=0){T^=H.G18<<H.getBCHDigit(T)-H.getBCHDigit(H.G18)}return U<<12|T},"getBCHDigit":function(U){var T=0;while(U!=0){T++,U>>>=1}return T},"getPatternPosition":function(T){return H.PATTERN_POSITION_TABLE[T-1]},"getMask":function(U,T,V){switch(U){case P.PATTERN000:return(T+V)%2==0;case P.PATTERN001:return T%2==0;case P.PATTERN010:return V%3==0;case P.PATTERN011:return(T+V)%3==0;case P.PATTERN100:return(Math.floor(T/2)+Math.floor(V/3))%2==0;case P.PATTERN101:return T*V%2+T*V%3==0;case P.PATTERN110:return(T*V%2+T*V%3)%2==0;case P.PATTERN111:return(T*V%3+(T+V)%2)%2==0;default:throw new Error("bad maskPattern:"+U)}},"getErrorCorrectPolynomial":function(U){var V=new S([1],0);for(var T=0;T<U;T++){V=V.multiply(new S([1,Q.gexp(T)],0))}return V},"getLengthInBits":function(U,T){if(1<=T&&T<10){switch(U){case O.MODE_NUMBER:return 10;case O.MODE_ALPHA_NUM:return 9;case O.MODE_8BIT_BYTE:return 8;case O.MODE_KANJI:return 8;default:throw new Error("mode:"+U)}}else{if(T<27){switch(U){case O.MODE_NUMBER:return 12;case O.MODE_ALPHA_NUM:return 11;case O.MODE_8BIT_BYTE:return 16;case O.MODE_KANJI:return 10;default:throw new Error("mode:"+U)}}else{if(!(T<41)){throw new Error("type:"+T)}switch(U){case O.MODE_NUMBER:return 14;case O.MODE_ALPHA_NUM:return 13;case O.MODE_8BIT_BYTE:return 16;case O.MODE_KANJI:return 12;default:throw new Error("mode:"+U)}}}},"getLostPoint":function(d){var X=d.getModuleCount(),Y=0;for(var Z=0;Z<X;Z++){for(var f=0;f<X;f++){var V=0,e=d.isDark(Z,f);for(var T=-1;T<=1;T++){if(Z+T<0||X<=Z+T){continue}for(var b=-1;b<=1;b++){if(f+b<0||X<=f+b){continue}if(T==0&&b==0){continue}e==d.isDark(Z+T,f+b)&&V++}}V>5&&(Y+=3+V-5)}}for(var Z=0;Z<X-1;Z++){for(var f=0;f<X-1;f++){var W=0;d.isDark(Z,f)&&W++,d.isDark(Z+1,f)&&W++,d.isDark(Z,f+1)&&W++,d.isDark(Z+1,f+1)&&W++;if(W==0||W==4){Y+=3}}}for(var Z=0;Z<X;Z++){for(var f=0;f<X-6;f++){d.isDark(Z,f)&&!d.isDark(Z,f+1)&&d.isDark(Z,f+2)&&d.isDark(Z,f+3)&&d.isDark(Z,f+4)&&!d.isDark(Z,f+5)&&d.isDark(Z,f+6)&&(Y+=40)}}for(var f=0;f<X;f++){for(var Z=0;Z<X-6;Z++){d.isDark(Z,f)&&!d.isDark(Z+1,f)&&d.isDark(Z+2,f)&&d.isDark(Z+3,f)&&d.isDark(Z+4,f)&&!d.isDark(Z+5,f)&&d.isDark(Z+6,f)&&(Y+=40)}}var a=0;for(var f=0;f<X;f++){for(var Z=0;Z<X;Z++){d.isDark(Z,f)&&a++}}var U=Math.abs(100*a/X/X-50)/5;return Y+=U*10,Y}},Q={"glog":function(T){if(T<1){throw new Error("glog("+T+")")}return Q.LOG_TABLE[T]},"gexp":function(T){while(T<0){T+=255}while(T>=256){T-=255}return Q.EXP_TABLE[T]},"EXP_TABLE":new Array(256),"LOG_TABLE":new Array(256)};for(var D=0;D<8;D++){Q.EXP_TABLE[D]=1<<D}for(var D=8;D<256;D++){Q.EXP_TABLE[D]=Q.EXP_TABLE[D-4]^Q.EXP_TABLE[D-5]^Q.EXP_TABLE[D-6]^Q.EXP_TABLE[D-8]}for(var D=0;D<255;D++){Q.LOG_TABLE[Q.EXP_TABLE[D]]=D}S.prototype={"get":function(T){return this.num[T]},"getLength":function(){return this.num.length},"multiply":function(U){var V=new Array(this.getLength()+U.getLength()-1);for(var T=0;T<this.getLength();T++){for(var W=0;W<U.getLength();W++){V[T+W]^=Q.gexp(Q.glog(this.get(T))+Q.glog(U.get(W)))}}return new S(V,0)},"mod":function(U){if(this.getLength()-U.getLength()<0){return this}var V=Q.glog(this.get(0))-Q.glog(U.get(0)),W=new Array(this.getLength());for(var T=0;T<this.getLength();T++){W[T]=this.get(T)}for(var T=0;T<U.getLength();T++){W[T]^=Q.gexp(Q.glog(U.get(T))+V)}return(new S(W,0)).mod(U)}},L.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],L.getRSBlocks=function(V,X){var Z=L.getRsBlockTable(V,X);if(Z==undefined){throw new Error("bad rs block @ typeNumber:"+V+"/errorCorrectLevel:"+X)}var b=Z.length/3,U=[];for(var Y=0;Y<b;Y++){var a=Z[Y*3+0],c=Z[Y*3+1],T=Z[Y*3+2];for(var W=0;W<a;W++){U.push(new L(c,T))}}return U},L.getRsBlockTable=function(U,T){switch(T){case I.L:return L.RS_BLOCK_TABLE[(U-1)*4+0];case I.M:return L.RS_BLOCK_TABLE[(U-1)*4+1];case I.Q:return L.RS_BLOCK_TABLE[(U-1)*4+2];case I.H:return L.RS_BLOCK_TABLE[(U-1)*4+3];default:return undefined}},C.prototype={"get":function(U){var T=Math.floor(U/8);return(this.buffer[T]>>>7-U%8&1)==1},"put":function(V,T){for(var U=0;U<T;U++){this.putBit((V>>>T-U-1&1)==1)}},"getLengthInBits":function(){return this.length},"putBit":function(U){var T=Math.floor(this.length/8);this.buffer.length<=T&&this.buffer.push(0),U&&(this.buffer[T]|=128>>>this.length%8),this.length++}};var J=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function R(){return typeof CanvasRenderingContext2D!="undefined"}function B(){var T=false;var U=navigator.userAgent;if(/android/i.test(U)){T=true;aMat=U.toString().match(/android ([0-9]\.[0-9])/i);if(aMat&&aMat[1]){T=parseFloat(aMat[1])}}return T}var E=(function(){var T=function(U,V){this._el=U;this._htOption=V};T.prototype.draw=function(Z){var W=this._htOption;var e=this._el;var d=Z.getModuleCount();var a=Math.floor(W.width/d);var X=Math.floor(W.height/d);this.clear();function V(f,h){var g=document.createElementNS("http://www.w3.org/2000/svg",f);for(var i in h){if(h.hasOwnProperty(i)){g.setAttribute(i,h[i])}}return g}var Y=V("svg",{"viewBox":"0 0 "+String(d)+" "+String(d),"width":"100%","height":"100%","fill":W.colorLight});Y.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");e.appendChild(Y);Y.appendChild(V("rect",{"fill":W.colorDark,"width":"1","height":"1","id":"template"}));for(var b=0;b<d;b++){for(var U=0;U<d;U++){if(Z.isDark(b,U)){var c=V("use",{"x":String(b),"y":String(U)});c.setAttributeNS("http://www.w3.org/1999/xlink","href","#template");Y.appendChild(c)}}}};T.prototype.clear=function(){while(this._el.hasChildNodes()){this._el.removeChild(this._el.lastChild)}};return T})();var K=document.documentElement.tagName.toLowerCase()==="svg";var N=K?E:!R()?(function(){var T=function(U,V){this._el=U;this._htOption=V};T.prototype.draw=function(Y){var V=this._htOption;var f=this._el;var d=Y.getModuleCount();var Z=Math.floor(V.width/d);var W=Math.floor(V.height/d);var c=['<table style="border:0;border-collapse:collapse;">'];for(var a=0;a<d;a++){c.push("<tr>");for(var U=0;U<d;U++){c.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+Z+"px;height:"+W+"px;background-color:"+(Y.isDark(a,U)?V.colorDark:V.colorLight)+';"></td>')}c.push("</tr>")}c.push("</table>");f.innerHTML=c.join("");var b=f.childNodes[0];var X=(V.width-b.offsetWidth)/2;var e=(V.height-b.offsetHeight)/2;if(X>0&&e>0){b.style.margin=e+"px "+X+"px"}};T.prototype.clear=function(){this._el.innerHTML=""};return T})():(function(){function X(){this._elImage.src=this._elCanvas.toDataURL("image/png");this._elImage.style.display="block";this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var U=1/window.devicePixelRatio;var T=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(h,g,d,Z,f,e,c,Y,a){if(("nodeName" in h)&&/img/i.test(h.nodeName)){for(var b=arguments.length-1;b>=1;b--){arguments[b]=arguments[b]*U}}else{if(typeof Y=="undefined"){arguments[1]*=U;arguments[2]*=U;arguments[3]*=U;arguments[4]*=U}}T.apply(this,arguments)}}function V(d,a){var Z=this;Z._fFail=a;Z._fSuccess=d;if(Z._bSupportDataURI===null){var Y=document.createElement("img");var c=function(){Z._bSupportDataURI=false;if(Z._fFail){_fFail.call(Z)}};var b=function(){Z._bSupportDataURI=true;if(Z._fSuccess){Z._fSuccess.call(Z)}};Y.onabort=c;Y.onerror=c;Y.onload=b;Y.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==";return}else{if(Z._bSupportDataURI===true&&Z._fSuccess){Z._fSuccess.call(Z)}else{if(Z._bSupportDataURI===false&&Z._fFail){Z._fFail.call(Z)}}}}var W=function(Y,Z){this._bIsPainted=false;this._android=B();this._htOption=Z;this._elCanvas=document.createElement("canvas");this._elCanvas.width=Z.width;this._elCanvas.height=Z.height;Y.appendChild(this._elCanvas);this._el=Y;this._oContext=this._elCanvas.getContext("2d");this._bIsPainted=false;this._elImage=document.createElement("img");this._elImage.alt="Scan me!";this._elImage.style.display="none";this._el.appendChild(this._elImage);this._bSupportDataURI=null};W.prototype.draw=function(e){var d=this._elImage;var i=this._oContext;var b=this._htOption;var j=e.getModuleCount();var f=b.width/j;var c=b.height/j;var Y=Math.round(f);var k=Math.round(c);d.style.display="none";this.clear();for(var g=0;g<j;g++){for(var l=0;l<j;l++){var Z=e.isDark(g,l);var a=l*f;var h=g*c;i.strokeStyle=Z?b.colorDark:b.colorLight;i.lineWidth=1;i.fillStyle=Z?b.colorDark:b.colorLight;i.fillRect(a,h,f,c);i.strokeRect(Math.floor(a)+0.5,Math.floor(h)+0.5,Y,k);i.strokeRect(Math.ceil(a)-0.5,Math.ceil(h)-0.5,Y,k)}}this._bIsPainted=true};W.prototype.makeImage=function(){if(this._bIsPainted){V.call(this,X)}};W.prototype.isPainted=function(){return this._bIsPainted};W.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height);this._bIsPainted=false};W.prototype.round=function(Y){if(!Y){return Y}return Math.floor(Y*1000)/1000};return W})();function M(W,Y){var Z=1;var U=G(W);for(var V=0,X=J.length;V<=X;V++){var T=0;switch(Y){case I.L:T=J[V][0];break;case I.M:T=J[V][1];break;case I.Q:T=J[V][2];break;case I.H:T=J[V][3];break}if(U<=T){break}else{Z++}}if(Z>J.length){throw new Error("Too long data")}return Z}function G(U){var T=encodeURI(U).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return T.length+(T.length!=U?3:0)}QRCode=function(T,V){this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:I.H};if(typeof V==="string"){V={text:V}}if(V){for(var U in V){this._htOption[U]=V[U]}}if(typeof T=="string"){T=document.getElementById(T)}this._android=B();this._el=T;this._oQRCode=null;this._oDrawing=new N(this._el,this._htOption);if(this._htOption.text){this.makeCode(this._htOption.text)}};QRCode.prototype.makeCode=function(T){this._oQRCode=new A(M(T,this._htOption.correctLevel),this._htOption.correctLevel);this._oQRCode.addData(T);this._oQRCode.make();this._el.title=T;this._oDrawing.draw(this._oQRCode);this.makeImage()};QRCode.prototype.makeImage=function(){if(typeof this._oDrawing.makeImage=="function"&&(!this._android||this._android>=3)){this._oDrawing.makeImage()}};QRCode.prototype.clear=function(){this._oDrawing.clear()};QRCode.CorrectLevel=I})();